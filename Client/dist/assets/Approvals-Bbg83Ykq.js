import{r,j as e,_ as S}from"./index-DDg8tmzP.js";import{S as M}from"./sweetalert2.all-BcwuNuaI.js";import{c as D,d as A}from"./index-C2XjEMwL.js";import{b as E,v as I}from"./adminService-Dh3wFakp.js";function P({isVisible:a,onClose:c,doctor:t}){return a?e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg overflow-hidden w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-100 dark:bg-gray-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Doctor Details"}),e.jsx("button",{onClick:c,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-300 mb-2",children:"Personal Information"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Name:"})," ",t.name]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Phone No:"})," ",t.phone_number]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Joined:"})," ",new Date(t.createdAt).toLocaleDateString()]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Gender:"})," ",t.gender]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-300 mb-2",children:"Professional Details"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Medical License No:"})," ",t.medical_license_no]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Expertise:"})," ",t.expertise]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Experience:"})," ",t.experience_years," Years"]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Working Hospital:"})," ",t.working_Hospital]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("strong",{children:"Hospital Contact:"})," ",t.working_Hospital_contact]})]})]})}),e.jsx("div",{className:"flex justify-end p-4 border-t dark:border-gray-700 bg-gray-100 dark:bg-gray-800",children:e.jsx("button",{className:"py-2 px-4 bg-green-500 text-white rounded hover:bg-green-600",onClick:c,children:"Close"})})]})}):null}function O(){const[a,c]=r.useState([]),[t,b]=r.useState(!0),[h,j]=r.useState(""),[i,o]=r.useState(1),[n]=r.useState(10),[f,g]=r.useState(!1),[N,p]=r.useState(null),m=async()=>{const s=await E();s.status===200&&(c(s.data.data),b(!1))};r.useEffect(()=>{m()},[]);const w=s=>{j(s.target.value),o(1)},d=a.filter(s=>s.name.toLowerCase().includes(h.toLowerCase())),y=i*n,k=y-n,v=d.slice(k,y),x=s=>{o(s==="prev"?l=>Math.max(l-1,1):s==="next"?l=>Math.min(l+1,Math.ceil(d.length/n)):s)},C=s=>{const l=a.find(u=>u._id===s);p(l),g(!0)},L=()=>{g(!1),p(null)},_=async s=>{(await M.fire({title:"Are you sure?",text:"Approve this profile .",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Approve!"})).isConfirmed&&(await I(s)).status===200&&(S.success("Doctor verified successfully"),m())};return t?e.jsx(e.Fragment,{children:e.jsx("h1",{children:"Fetching Lists..."})}):e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg m-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Doctor Approvals"}),a.length>0?e.jsxs("div",{className:"flex items-center justify-between flex-wrap bg-white dark:bg-gray-900 p-2 rounded-lg",children:[e.jsx("label",{htmlFor:"table-search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),e.jsx("input",{type:"text",id:"table-search-users",className:"block p-1 pl-8 text-sm text-gray-900 border border-gray-300 rounded-lg w-60 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search",value:h,onChange:w})]})]}):e.jsx("p",{className:"text-center",children:"No Approvals found."}),a.length>0&&e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-2",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"p-2",children:"Name"}),e.jsx("th",{scope:"col",className:"px-4 py-2",children:"Email"}),e.jsx("th",{scope:"col",className:"px-4 py-2",children:"Joined"}),e.jsx("th",{scope:"col",className:"px-4 py-2",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 py-2",children:"Medical License No"}),e.jsx("th",{scope:"col",className:"px-4 py-2",children:"Expertise"}),e.jsx("th",{scope:"col",className:"px-4 py-2",children:"View"}),e.jsx("th",{scope:"col",className:"px-4 py-2",children:"Verify"})]})}),e.jsx("tbody",{children:v.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2",children:s.name}),e.jsx("td",{className:"px-4 py-2",children:s.email}),e.jsx("td",{className:"px-4 py-2",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-2",children:s.is_verified?"Inactive":"Active"}),e.jsx("td",{className:"px-4 py-2",children:s.medical_license_no}),e.jsx("td",{className:"px-4 py-2",children:s.expertise}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("button",{className:"py-1 px-3 rounded bg-green-500 text-white",style:{width:"80px"},onClick:()=>C(s._id),children:"View"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("button",{className:"py-1 px-3 rounded bg-red-500 text-white",style:{width:"80px"},onClick:()=>_(s._id),children:"Verify"})})]},s._id))})]}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:()=>x("prev"),className:"px-2 py-1 mx-1 rounded bg-blue-500 text-white border border-gray-300",disabled:i===1,children:e.jsx(D,{})}),[...Array(Math.min(3,Math.ceil(d.length/n))).keys()].map(s=>e.jsx("button",{onClick:()=>x(s+1),className:`px-2 py-1 mx-1 rounded ${i===s+1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"} border border-gray-300`,children:s+1},s+1)),e.jsx("button",{onClick:()=>x("next"),className:"px-2 py-1 mx-1 rounded bg-blue-500 text-white border border-gray-300",disabled:i===Math.ceil(d.length/n),children:e.jsx(A,{})})]}),e.jsx(P,{isVisible:f,onClose:L,doctor:N})]})}export{O as default};
