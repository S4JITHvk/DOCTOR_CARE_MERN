import{r as a,j as e}from"./index-DDg8tmzP.js";import{D as S}from"./react-datepicker-CpKRV2Wu.js";import{M as g}from"./index-XLCXBP2A.js";import{c as C}from"./adminService-Dh3wFakp.js";import"./format-D5IGutSq.js";import"./floating-ui.react-SXetMiss.js";g.setAppElement("#root");function A(){const[l,u]=a.useState([]),[j,d]=a.useState(!1),[r,o]=a.useState(1),[c,f]=a.useState(1),[n,y]=a.useState(new Date),[x,I]=a.useState(""),[N,m]=a.useState(!1),[s,p]=a.useState(null);a.useEffect(()=>{w()},[r,n,x]);const w=async()=>{d(!0);const t={page:r,date:n?n==null?void 0:n.toISOString().split("T")[0]:"",doctorName:x},i=await C(t);i.data&&(u(i.data.bookings),f(i.data.totalPages),d(!1))},b=t=>{y(t)},k=t=>{const i=l.find(D=>D._id===t);p(i),m(!0)},h=()=>{m(!1),p(null)},v=t=>{switch(t){case"Active":return"text-blue-500";case"Completed":return"text-green-500";case"Cancelled":return"text-red-500";default:return""}};return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Booking List"}),e.jsx("div",{className:"mb-4 flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-gray-700",children:"Filter by Date:"}),e.jsx(S,{selected:n,onChange:b,dateFormat:"yyyy-MM-dd",placeholderText:"Select a date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})}),j?e.jsx("p",{className:"text-center text-lg",children:"Loading..."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Doctor Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Doctor License No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Patient Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Patient Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Shift"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.doctorId.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.doctorId.medical_license_no}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.userId.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.userId.email}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${v(t.status)}`,children:t.status}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.shift}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(t.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>k(t._id),className:"bg-green-500 text-white hover:bg-green-700 focus:outline-none px-2 py-1 rounded-md",children:"View"})})]},t._id))})]})}),e.jsxs("div",{className:"mt-4 flex justify-between",children:[e.jsx("button",{onClick:()=>o(t=>Math.max(t-1,1)),disabled:r===1,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md disabled:opacity-50 focus:outline-none",children:"Previous"}),e.jsxs("span",{className:"text-lg text-gray-700",children:["Page ",r," of ",c]}),e.jsx("button",{onClick:()=>o(t=>Math.min(t+1,c)),disabled:r===c,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md disabled:opacity-50 focus:outline-none",children:"Next"})]}),e.jsx(g,{isOpen:N,onRequestClose:h,contentLabel:"Booking Details",className:"fixed inset-0 flex items-center justify-center p-4 bg-black bg-opacity-50",overlayClassName:"fixed inset-0 bg-gray-900 bg-opacity-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md mx-auto",children:s&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:s.status==="Active"?"Active Booking Details":s.status==="Completed"?"Completed Booking Details":"Cancelled Booking Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold",children:"Doctor Details:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",s.doctorId.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"License No:"})," ",s.doctorId.medical_license_no]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gender:"})," ",s.doctorId.gender]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expertise:"})," ",s.doctorId.expertise]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Experience:"})," ",s.doctorId.experience_years," years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold",children:"Patient Details:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",s.userId.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",s.userId.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",s.payment.status]})]})]}),e.jsx("p",{className:"text-lg font-semibold mt-6",children:"Booking Information:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Scheduled Date:"})," ",new Date(s.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",s.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",s.shift]}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx("button",{onClick:h,className:"bg-red-500 text-white px-6 py-2 rounded-md focus:outline-none",children:"Close"})})]})})})]})}export{A as default};
